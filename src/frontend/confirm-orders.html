<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Confirm Publisher Orders</title>
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/confirm-orders.css">
</head>
<body>

<header class="topbar">
    <h1>Replenishment Orders</h1>
    <a href="admin.html" class="logout">Back</a>
</header>

<main class="orders-container">

    <div class="header-summary">
        <h2>Pending Shipments</h2>
        <p class="subtitle">Confirm receipt of books from publishers to update stock levels.</p>
    </div>

    <table class="orders-table">
        <thead>
        <tr>
            <th>Order ID</th>
            <th>Book Title</th>
            <th>Publisher</th>
            <th>Quantity</th>
            <th>Date Placed</th>
            <th>Status</th>
            <th>Action</th>
        </tr>
        </thead>
        <tbody>
        <tr id="row-881">
            <td class="id-col">#PO-881</td>
            <td>Clean Code</td>
            <td>Pearson</td>
            <td class="qty-col">10</td>
            <td>Oct 24, 2025</td>
            <td><span class="badge pending">In Transit</span></td>
            <td>
                <button class="action-btn small" onclick="confirmOrder(this, 'row-881')">
                    Confirm Receipt
                </button>
            </td>
        </tr>

        <tr id="row-882">
            <td class="id-col">#PO-882</td>
            <td>The Pragmatic Programmer</td>
            <td>Addison-Wesley</td>
            <td class="qty-col">15</td>
            <td>Oct 25, 2025</td>
            <td><span class="badge pending">In Transit</span></td>
            <td>
                <button class="action-btn small" onclick="confirmOrder(this, 'row-882')">
                    Confirm Receipt
                </button>
            </td>
        </tr>

        <tr id="row-879" style="opacity: 0.6;">
            <td class="id-col">#PO-879</td>
            <td>Introduction to Algorithms</td>
            <td>MIT Press</td>
            <td class="qty-col">5</td>
            <td>Oct 20, 2025</td>
            <td><span class="badge success">Stocked</span></td>
            <td>
                <button class="action-btn small" disabled style="background: transparent; border: 1px solid #7fd1a3; cursor: default;">
                    Completed
                </button>
            </td>
        </tr>
        </tbody>
    </table>

</main>

<script>
    function confirmOrder(btn, rowId) {
        // 1. Visual Loading State
        const originalText = btn.innerText;
        btn.innerText = "Updating...";
        btn.style.opacity = "0.7";

        // 2. Simulate Network Delay (0.5s) for realism
        setTimeout(() => {
            const row = document.getElementById(rowId);
            const badge = row.querySelector('.badge');

            // Change Badge to Green
            badge.className = "badge success";
            badge.innerText = "Stock Updated";

            // Disable Button and Change Style
            btn.disabled = true;
            btn.innerText = "Confirmed âœ“";
            btn.style.background = "#2f6f4e";
            btn.style.cursor = "default";
            btn.style.opacity = "1";
            
            // Optional: Fade row slightly to show it's "done"
            row.style.transition = "opacity 0.5s";
            row.style.opacity = "0.8";

        }, 600);
    }
</script>

</body>
</html>